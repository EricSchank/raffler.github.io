{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../../App.svelte",
    "../../DataEntryView.svelte",
    "../../LoadingView.svelte",
    "../../RaffleView.svelte"
  ],
  "sourcesContent": [
    "<svelte:head>\n\t<link href=\"https://fonts.googleapis.com/icon?family=Material+Icons\" rel=\"stylesheet\">\n</svelte:head>\n\n<script>\n\timport DataEntryView from './DataEntryView.svelte';\n\timport RaffleView from './RaffleView.svelte';\n\timport LoadingView from './LoadingView.svelte';\n\timport SavingView from './SavingView.svelte';\n\n\tlet items = [''];\n\tlet enteringData = true;\n\tlet saving = false;\n\tlet loading = false;\n\t$: validItems = items.filter(i => {return (i && i.length > 0);});\n\t$: canSave = (validItems.length);\n\n\tfunction onStart(e) {\n\t\tconsole.log('validItems', validItems);\n\t\tenteringData = false;\n\t}\n\n    function onLoad() {\n\t\tloading = true;\n    }\n\n    function onSave() {\n\t\tsaving = true;\n    }\n\n\t// Storage\n\n</script>\n\n<style>\n\t:global(body) {\n\t\tmargin: auto 3rem;\n\t}\n\t:global(.regular) {\n\t\tfont-size: 24px;\n\t\tborder-radius: 1em;\n\t\tpadding: 0.4em 0.9em;\n\t\tmargin-top: 20px;\n\t}\n\t:global(.regular .material-icons) {\n\t\tfont-size: 26px;\n\t\tvertical-align: text-bottom;\n\t}\n\t:global(button) {\n\t\tbackground-color: #676778;\n\t\tcolor: #FFF;\n\t\tbox-shadow: 0 3px 5px -1px rgba(0,0,0,.2), 0 6px 10px 0 rgba(0,0,0,.14), 0 1px 18px 0 rgba(0,0,0,.12);\n\t}\n\n\tbutton + button {\n\t\tmargin-left: 20px;\n\t}\n\n</style>\n\n<h1>Raffle</h1>\n\n{#if enteringData}\n\n\t{#if loading}\n\t\t<LoadingView bind:items bind:loading />\n\t{:else if saving}\n\t\t<SavingView items={validItems} bind:saving/>\n\t{:else}\n\t\t<DataEntryView bind:items />\n\n\t\t<button on:click={onStart} class=\"regular\">\n\t\t\t<i class=\"material-icons\">shuffle</i>&nbsp; Start\n\t\t</button>\n\n\t\t<button on:click={onLoad} class=\"regular\">\n\t\t\t<i class=\"material-icons\">folder_open</i>&nbsp; Open\n\t\t</button>\n\n\t\t<button on:click={onSave} class=\"regular\" disabled={!canSave}>\n\t\t\t<i class=\"material-icons\">save_alt</i>&nbsp; Save\n\t\t</button>\n\n\t{/if}\n\n{:else}\n\t<RaffleView bind:enteringData items={validItems}> </RaffleView>\n\n{/if}\n",
    "<script>\n    import { color } from './Colors.svelte';\n\n    export let items = [];\n\n\tlet nextId = 2;\n\tfunction onRemove(e) {\n\t\tconst idx = this.getAttribute('idx');\n\t\titems.splice(idx, 1);\n\t\titems = items;\n\t}\n\tfunction onCreated(node) {\n\t\tnode.focus();\n\t}\n\tfunction onAdd(e) {\n\t\titems.push('');\n\t\titems = items;\n\t\tnextId += 1;\n\t}\n\tfunction onKeyUp(e) {\n\t\tif (e.key === 'Enter') {\n\t\t\tonAdd();\n\t\t}\n    }\n    function isDupe(item) {\n        const entries = items.filter((el) => {\n            return  el.trim() == item.trim();\n        });\n        return entries.length > 1;\n    }\n</script>\n\n<style>\n\t:global(ul) {\n\t\tlist-style-type: none;\n\t\tpadding-inline-start: 0;\n\t}\n\tinput {\n\t\twidth: 250px;\n\t}\n\t.material-icons {\n\t\tcolor: #FFF;\n\t}\n\t:global(.borderless .material-icons) {\n\t\tfont-size: 24px;\n\t\tvertical-align: middle;\n\t}\n\t:global(.borderless) {\n\t\tborder: none;\n\t\tborder-radius: 50%;\n\t}\n\tinput + .borderless {\n\t\tmargin-left: 12px;\n\t\tvertical-align: bottom;\n\t}\n\t.borderless.add {\n\t\tmargin-top: 12px;\n\t}\n</style>\n\n<ul>\n    {#each items as item, i (i)}\n        <li>\n            <input bind:value={item} on:keyup={onKeyUp} use:onCreated style=\"color: {color(i)}; border-color: {isDupe(item) ? 'red' : ''};\"/>\n            <button class=\"borderless\" idx={i} on:click={onRemove}>\n                <i class=\"material-icons\">remove_circle_outline</i>\n            </button>\n        </li>\n    {/each}\n\n    <li>\n        <button on:click={onAdd} class=\"borderless add\">\n            <i class=\"material-icons\">add_circle_outline</i>\n        </button>\n    </li>\n</ul>\n",
    "<script>\n\timport * as db from './storage.svelte';\n    import { onMount } from 'svelte';\n\n    export let items = [];\n    export let loading;\n    let saves = [];\n    let error = '';\n    console.log(items);\n\n\tonMount(async () => {\n        saves = await db.raffles();\n        if (saves.length < 1) {\n            error = 'Found no saved raffles'\n        }\n\t});\n\n    function onCancel() {\n        loading = false;\n    }\n\n    async function onRemove(e) {\n        const idx = this.getAttribute('idx');\n        const remove = saves.splice(idx, 1);\n        const r = await db.removeRaffle(remove[0].name);\n        saves = saves;\n    }\n\n    async function onLoad(e) {\n        const idx = this.getAttribute('idx');\n        items = saves[idx].items;\n        loading = false;\n    }\n\n</script>\n\n<style>\n\t.borderless {\n\t\t/* margin-top: 12px; */\n        background: none;\n        box-shadow: none;\n        color: #333;\n        margin-bottom: 0;\n\t}\n\n    tr {\n        background: #EEE;\n    }\n\n    tr.odd {\n        background: #d7f1c7;\n    }\n\n    table {\n        table-layout: fixed;\n        border-collapse: collapse;\n    }\n    td, th {\n        padding: 0 20px;\n        font-size: 22px;\n        text-align: left;\n    }\n    td.icon, th.icon {\n        padding: 0;\n    }\n    td.icon i {\n        vertical-align: baseline;\n    }\n</style>\n\n<h3>Open a saved raffle</h3>\n\n<h4>{error}</h4>\n\n<table>\n    <thead>\n        <th>Name</th>\n        <th>Date</th>\n        <th class=\"icon\">&nbsp;</th>\n        <th class=\"icon\">&nbsp;</th>\n    </thead>\n    {#each saves as save, i (i)}\n        <tr class:odd={((i % 2) == 1)} title={`${save.items.length} items in '${save.name}' raffle`}>\n            <td>\n                {save.name}\n            </td>\n            <td>\n                {new Date(save.date).toDateString()}\n            </td>\n            <td class=\"icon\" title=\"Load '{save.name}' raffle\">\n                <button on:click={onLoad} idx={i} class=\"borderless\">\n                    <i class=\"material-icons material-icons-two-tone\">folder_open</i>\n                </button>\n            </td>\n            <td class=\"icon\" title=\"Delete '{save.name}' raffle\">\n                <button class=\"borderless remove\" idx={i} on:click={onRemove}>\n                    <i class=\"material-icons\">remove_circle_outline</i>\n                </button>\n            </td>\n        </tr>        \n    {/each}\n</table>\n\n<button class=\"regular\" on:click={onCancel}>\n    <i class=\"material-icons\">arrow_back</i>&nbsp; Cancel\n</button>\n",
    "<script>\n    import { color } from './Colors.svelte';\n    import { onMount } from 'svelte';\n    import { tweened } from 'svelte/motion';\n\timport { bounceInOut, sineOut } from 'svelte/easing';\n\n    export let enteringData;\n    export let items = [];\n\n    import { fade, fly, slide, scale, draw } from 'svelte/transition';\n\n    let raffleItems = [];\n\tlet raffleFont = 36;\n\tlet winner;\n\tlet opacities = tweened([]);\n\n    onMount(async () => {\n        raffleItems = [];\n\t\traffleItems = items.map((val, idx) => { return {idx: idx, val: val};});\n\n\t\tlet opc = Array(items.length);\n\t\topc.fill(10000.0);\n\t\tconsole.log('opc', opc);\n\t\topacities = tweened(opc);\n\t\tconsole.log('opc', opc);\n\t\twinner = undefined;\n\t\tif (raffleItems.length > 60) {\n\t\t\traffleFont = 12;\n\t\t}\n\t\tif (raffleItems.length > 40) {\n\t\t\traffleFont = 24;\n\t\t}\n\t\tif (raffleItems.length > 20) {\n\t\t\traffleFont = 36;\n\t\t}\n\n\t\tconst interval = setInterval(() => {\n\t\t\tif (!makePick()) {\n\t\t\t\tclearInterval(interval);\n\t\t\t}\n\t\t}, 2000);\n    });\n\n\tfunction onEnterData(e) {\n\t\tenteringData = true;\n\t\traffleItems = [];\n\t}\n\n\tfunction makePick() {\n\t\tif (raffleItems.length > 1) {\n\t\t\tconst idx = Math.floor((Math.random() * raffleItems.length));\n\t\t\tconsole.log('pick', idx);\n\t\t\tconst rem = raffleItems.splice(idx, 1);\n\t\t\tconsole.log('removed', rem);\n\t\t\tconsole.log('raff', raffleItems);\n\t\t\tconsole.log('opac', $opacities);\n\t\t\topacities.update(o => {o[rem[0].idx] = 1000.0; console.log('inner opac', o); return o;});\n\t\t\traffleItems = raffleItems;\n\t\t\tif (raffleItems.length > 1) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\twinner = raffleItems[0].val;\n\t\treturn false;\n\t}\n\n</script>\n<style>\n\t.raffle-items {\n\t\tmargin-top: 20px;\n\t}\n\t.raffle-item {\n\t\tcolor: #FFF;\n\t\tmargin: 20px;\n\t\tdisplay: inline-block;\n\t\tfont-size: 36px;\n\t\tborder-radius: 1em;\n\t\tpadding: 0.4em 0.9em;\n\t\tbox-shadow: 0 3px 5px -1px rgba(0,0,0,.2), 0 6px 10px 0 rgba(0,0,0,.14), 0 1px 18px 0 rgba(0,0,0,.12);\n\t}\n\t.winner {\n\t\tfont-size: 36px;\n\t\tmargin: 10px;\n\t}\n</style>\n\n<button class=\"regular\" on:click={onEnterData}>\n    <i class=\"material-icons\">arrow_back</i>\n    Back\n</button>\n\n<div class=\"winner\">\n    {#if winner}\n        The winner is... <strong>{winner}</strong>\n    {:else}\n        &nbsp;\n    {/if}\n</div>\n\n<div class=\"raffle-items\">\n    {#each items as item, i (i)}\n        <div class=\"raffle-item\" style=\"background-color: {color(i)}; opacity: { 1.0 * $opacities[i] / 10000.0};\">\n            {item}\n        </div>\n    {/each}\n</div>\n"
  ],
  "names": [],
  "mappings": "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"
}